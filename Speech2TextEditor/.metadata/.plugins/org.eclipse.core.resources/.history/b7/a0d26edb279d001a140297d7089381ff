package View;

import java.awt.event.ActionListener;
import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;

import Model.Document;

public class OpenDocumentCommand implements ActionListener {
	
	public OpenDocumentCommand() {
		filename = startingTextArea.getText();
		
		// Create the Document
		doc = new Document(filename, settingsPanel.getVolume(), settingsPanel.getPitch(), settingsPanel.getRate());
		System.out.println(settingsPanel.getVolume());
		doc.createDocumentfromPath();
		settingsPanel.setDocument(doc);
		
		String contents = "";
		try {
		      File myObj = new File(filename);
		      Scanner myReader = new Scanner(myObj);
		      while (myReader.hasNextLine()) {
		    	  String data = myReader.nextLine();
		          contents += data;
		          contents += "\n";
		      }
		      myReader.close();
		}catch (FileNotFoundException err) {
			 System.out.println("An error occurred.");
		     err.printStackTrace();
		}
		setPanel(openDocPanel);
		openDocPanel.setText(contents);
	}
}
